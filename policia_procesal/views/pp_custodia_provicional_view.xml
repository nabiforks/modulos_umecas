<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record model="ir.ui.view" id="custodia_form_view">
			<field name="name">pp.custodia.form</field>
			<field name="model">pp.custodia</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<div class="oe_button_box" name="button_box">
							<button name="policia_procesal.audiencia_action_list" type="action" class="oe_stat_button" icon="fa-gavel" context="{'search_default_partner_id':partner_id,'default_custodia_id': active_id,'default_delito_ids': delito_ids,'default_causa_penal': causa_penal}">
								<field string="Audiencias" name="audiencias" widget="statinfo"/>
							</button>
						</div>
						<h2>
							<field name="name"/>
						</h2>

						<group>
							<group>
								<field name="partner_id" domain="[('x_imputado','=',True)]" context="{'default_x_imputado':True}"/>
								<field name="fecha_hora_registro"/>
							</group>
							<group>
								<field name="causa_penal"/>
								<field name="delito_ids" widget="many2many_tags" invisible="1"/>
							</group>
						</group>

						<notebook>
							<page string="Actuación de la Policía Procesal con el imputado">
								<group>
									<group>
										<field name="entidad_id" domain="[('country_id', '=', 157)]"/>
										<field name="city"/>
										<field name="nacionalidad_id"/>
										<field name="idioma_id"/>
									</group>
									<group>
										<field name="sabe_leer_escribir" widget="selection"/>
										<field name="numero_estancia"/>
										<field name="hora_actuacion" widget="float_time"/>
									</group>
								</group>
							</page>
							
							<page string="Resguardo de pertenencias">
								<field name="pertenencias_list_ids">
									<tree editable="bottom">
										<field name="pertenencia"/>
										<field name="detalle" />
									</tree>
								</field>
								<group>
									<group>
										<field name="fecha_hora_devolucion"/>
									</group>
									<group></group>
								</group>
							</page>

							<page string="Suministro de alimentos">
								<field name="alimentos_list">
									<tree editable="bottom">
										<field name="fecha"/>
										<field name="tercio" widget="selection"/>
										<field name="descripcion"/>
									</tree>
								</field>
							</page>
						</notebook>
						<br/>
						<br/>
						<div class="row">
							<div class="col-xs-7">
								<label string="Conducta del imputado durante su estancia o incidencia oncurrida"/>
								<field name="conducta"/>
							</div>
							<div class="col-xs-5">
								<group>
									<field name="fecha_hora_egreso"/>
								</group>
							</div>
						</div>
					</sheet>
				</form>
			</field>
		</record>

		<!--Vista Tree-->
		<record model='ir.ui.view' id='custodia_tree_view'>
			<field name='name'>pp.custodia.tree</field>
			<field name='model'>pp.custodia</field>
			<field name='arch' type='xml'>
				<tree>
					<field name='name'/>
					<field name='nombre_completo'/>
					<field name='causa_penal'/>
					<field name='fecha_hora_registro'/>
					<field name='fecha_hora_egreso'/>
					<field name='numero_estancia'/>
				</tree>
			</field>
		</record>

		<!--Search-->
		<record id="custodia__search" model="ir.ui.view">
		    <field name="name">pp.custodia.search</field>
		    <field name="model">pp.custodia</field>
		    <field name="arch" type="xml">
		        <search>
		        	<field name="partner_id"/>
		        </search>
		    </field>
		</record>
		
		<!--Action-->
		<record id="custodia_action_list" model="ir.actions.act_window">
			<field name="name">Custodia</field>
			<field name="res_model">pp.custodia</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>



		<!--*************************************-->
		<!--*    MODELO LISTA DE PERTENENCIAS   *-->
		<!--*************************************-->
		<!--Form-->
		<record model="ir.ui.view" id="lista_pertenencias_form">
			<field name="name">pertenencias.form</field>
			<field name="model">pp.pertenencia_list</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<group>
							<group>
								<field name="pertenencia"/>
							</group>
							<group>
								<field name="detalle"/>
							</group>
						</group>
					</sheet>
				</form>
			</field>
		</record>


		<!--*************************************-->
		<!--*    MODELO LISTA DE ALIMENTACION   *-->
		<!--*************************************-->
		<!--Form-->
		<record model="ir.ui.view" id="lista_alimentos_form">
			<field name="name">suministro.form</field>
			<field name="model">pp.suministro_list</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<group>
							<group>
								<field name="fecha"/>
							</group>
							<group>
								<field name="tercio"/>
							</group>
							<field name="descripcion"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>
	</data>
</odoo>